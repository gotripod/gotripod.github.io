---
layout: post
status: publish
published: true
title: ! 'Tip: ASP.Net/AJAX - Javascript in Label/Textbox Text'
author: Jon Baker
author_login: jon
author_email: jon@gotripod.com
wordpress_id: 20
wordpress_url: http://old.miletbaker.com/index.php/2007/09/04/tip-aspnetajax-javascript-in-labeltextbox-text/
date: !binary |-
  MjAwNy0wNC0yNCAxODoxNzoxNyArMDIwMA==
date_gmt: !binary |-
  MjAwNy0wNC0yNCAxNzoxNzoxNyArMDIwMA==
categories:
- .Net
tags:
- tips
- AJAX
- Javascript
- .Net
- dotnet
comments: []
---
<p>Hi All,</p>
<p>I though I would share a problem that I had (and resolved) using <span class="caps">ASP</span>.Net <span class="caps">AJAX</span>. The problem occurs if you want to output some Javascript to a Textbox (for example: for a user to copy and paste into their own page), which is nested in an UpdatePanel. <span class="caps">AJAX</span> returns an <span class="caps">HTTP 500</span> error.</p>
<p>The reason seems to be that the Javascript in the textbox interferes with the javascript generated by <span class="caps">MS AJAX</span> to handle the partial page updates of the UpdatePanel.</p>
<p>So if like me you need to output some Javascript to the page for a user to cut and paste, a work around is to use a literal control and the HTMLEncode function of the Server object as follows:</p>
<ol class="CodeRay">
<li>Literal1.<span class="pt">Text</span> = Server.HTMLEncode(<span class="s"><span class="dl">"</span><span class="k">&lt;Script src='example.js' type='text/javascript'&gt;&lt;/script&gt;</span><span class="dl">"</span></span>)</li>
</ol>
<p>I hope that helps anyone that has been puzzled by this error.</p>
<p><img src="http://feeds.feedburner.com/~r/miletbaker/~4/152148235" height="1" width="1" /></p>
