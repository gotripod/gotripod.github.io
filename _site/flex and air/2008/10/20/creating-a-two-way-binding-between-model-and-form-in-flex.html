<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>The Go Tripod Blog</title>
        <meta name="viewport" content="width=device-width">

       <!-- CSS (Stylesheets)
        ================================================== -->
    
        <link rel="stylesheet" href="assets/css/style.css">
        <link rel="stylesheet" href="assets/css/font-awesome.css">
        
        <!-- Google Web Fonts
        ================================================== -->
        
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Oswald">
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Cabin">
        
        <!-- Favicons
        ================================================== -->
       
        

    </head>
    <body>

        <div class="site">
          <div class="header">
            <nav id="header-navigation" class="sixteen columns" role="navigation">
            
              <ul id="navigation">
                  <li><a href="index.html#header-global" title="Home">Home</a></li>
                  <li><a href="index.html#introduction" title="About Us">About Us</a></li>
                  <li><a href="index.html#latest-work" title="Our Work">Our Work</a></li>
                  <li><a href="index.html#services" title="Our Services">Our Services</a></li>
                  <li><a href="index.html#meet-the-team" title="Meet the Team">Meet the team</a></li>
                <li><a href="#" title="Blog">Blog</a></li>
                  <li><a href="index.html#contact" title="Contact Us">Contact Us</a></li>
              </ul>
              
              <select name="dropdown" size="1" onChange="scrollTo(this.value)">
                  <option value="" selected="selected">Navigation</option>
                  <option value="index.html#header-global">Home</option>
                  <option value="index.html#introduction">About Us</option>
                  <option value="index.html#latest-work">Our Work</option> 
                  <option value="index.html#services">Our Services</option> 
                  <option value="index.html#meet-the-team">Meet the team</option>
                  <option value="#">Blog</option>
                  <option value="index.html#contact">Contact Us</option>
              </select>
              
			</nav><!-- end #header-navigation -->
          </div>
		
        <section id="blog">
          <div class="container" style="margin-bottom:30px;">
			
				<div class="icon-holder intro" style="margin:0 auto;">
					<i class="icon-book" style="color:#e47c14 !important;"></i>
				</div>
			
          <h2>Creating a two-way binding between Model and Form in Flex</h2>
<p class="meta">20 Oct 2008</p>

<div class="post">
<p>A quick sorry to all my Flex readership for the lack of Flex related posts these last few months. I though I would drop a quick tip / class I often use to create a two way binding between a form to a corresponding class model.<br />
<a id="more"></a><a id="more-362"></a><br />
Flex provides a one way binding through its &lt;mx:Binding&gt; tags, if you are unfamiliar with this tag check out the <a href="http://www.adobe.com/devnet/flex/quickstart/using_data_binding/#section3">section on them in Adobe's Flex quick start guide</a>. However if you want changes made to the model reflected in the form as well as changes made to the form reflected back in the model you need to set up two way bindings. To simplify this I have created a helper class (listed below) which then allows me to establish a two way binding.</p>

<pre lang="actionscript3">package com.vibrant.components.Forms
{
    import flash.display.DisplayObject;

    import mx.binding.utils.BindingUtils;
    import mx.binding.utils.ChangeWatcher;

    public class ModelBinding
    {

        private var _modelWatcher       : ChangeWatcher;
        private var _componentWatcher       : ChangeWatcher;
        private var bindingsAreEstablished  : Boolean = false;

        public function ModelBinding()
        {
        }

        /**
         * Property field
         * @default null
         */

        private var _model : Object;

        public function set model( value : Object ):void
        {
            _model = value;
            updateBinding();
        }

        public function get model() : Object
        {
            return _model;
        }

        /**
         * Property field, field within model to bind
         * @default ""
         */

        private var _field:String;

        public function set field( value : String ):void
        {
            _field = value;
            updateBinding();
        }

        public function get field() : String
        {
            return _field;
        }

        /**
         * Property: target, component to tartget binding from model to.
         */

        private var _target : Object;

        public function set target( value : Object ):void
        {
            _target = value;
            updateBinding();
        }

        public function get target() : Object
        {
            return _target;
        }

        /**
         * Property: property, to bind to on target component
         */

        private var _property : String = "text";

        public function set property( value : String ):void
        {
            _property = value;
            updateBinding();
        }

        public function get property() : String
        {
            return _property;
        }

        /**
         * @private
         * Updates bindings between component and model
         *
         */
        private function updateBinding() : void
        {
            if ( bindingsAreEstablished ) clearBindings();

            if ( model != null &&  model.hasOwnProperty( field )
                && target != null && target.hasOwnProperty( property ) )
            {
                _modelWatcher = BindingUtils.bindProperty( target, property, model, field );
                _componentWatcher = BindingUtils.bindProperty( model, field, target, property );
                bindingsAreEstablished = true;
            }
        }

        /**
         * Clears bindings
         *
         */
        private function clearBindings() : void {

            if ( _modelWatcher != null )
            {
                _modelWatcher.unwatch();
                _modelWatcher = null;
            }

            if ( _componentWatcher != null )
            {
                _componentWatcher.unwatch();
                _componentWatcher = null;
            }
            bindingsAreEstablished = false;
        }

    }
}</pre>

<p>This class basically takes a model class, that has the data you would like to setup the bindings with in. The field name, the name of the property within the model class to bind to. A target, the form component to establish the view side binding with and finally you can specify an optional property that the binding should be made to on the form element. If unspecified, the 'property' defaults to "text" as this is the most often used property to bind to. So for example given the following User model:</p>

<pre lang="actionscript3" line="1">public class UserModel
{
    public var firstName : String;
    public var lastName : String;

    public function UserModel()
    {
    }
}</pre>

<p>We could set up a binding to a TextInput as follows:</p>

<pre lang="html" line="1">...
<mx:Script>
    <![CDATA[
        public var userModel : UserModel;
    ]]>
</mx:Script>
<mx:Form>
    <mx:FormItem label="First Name">
        <mx:TextInput id="txtFirstName"/>
    </mx:FormItem>
</mx:Form>
<modelBinding model="{userModel}" field="firstName" target="{txtFirstName}"/>
...</pre>

<p>As you can see with this class you can quickly setup two-way bindings with your models.</p>

<p><a href='http://www.gotripod.com/wp-content/uploads/2008/10/modelbinding.as'>Download ModelBinding.as</a><br />
For more information on Binding, <a href="http://www.adobe.com/devnet/flex/quickstart/using_data_binding">check out Adobe Devnet</a>.</p>

</div>

			
          </div>
          </section>
			
          <footer id="footer-global" role="contentinfo" class="clearfix">
	
		<section id="contact">
		
			<div class="container">
			
				<div class="row">
		
					<div class="sixteen columns">
					
						<div class="icon-holder contact">
							<i class="icon-envelope"></i>
						</div>
						
						<h1>Got a great idea? Lets talk.</h1>
						
						<p>Please get in touch with us, we promise we won't bite!</p>
					
						<address id="contact-details">
						
							<p><a href="mailto:hello@gotripod.com?Subject=Ok, don't bite me! But I would like to talk about ...">hello@gotripod.com</a> // <a href="tel:08454752487">0845 475 2487</a><br />
							Tremough Innovation Centre, Penryn Campus
							<br>
							 Penryn, Cornwall, UK, TR10 9TA</p>
						
						</address>
                        
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d40886.830442687766!2d-5.127996999999958!3d50.17185400000002!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x486b16307846c97b%3A0x6b783d3b216b6f4d!2sGo+Tripod+Ltd!5e0!3m2!1sen!2s!4v1398110943195" width="100%" height="300" frameborder="0" style="border:0"></iframe>
                    
					</div>		
					
				</div><!-- end .row -->
			
				<div class="row">
				
					<div class="sixteen columns">
					
						<ul class="social-icons footer">
						
							<li><a href="http://www.twitter.com/gotripod" target="_blank" title="go Tripod on Twitter"><img src="assets/img/social-icons/twitter_icon_small.png" width="32" height="32" alt="" /></a></li>
							<li><a href="http://www.facebook.com/gotripod" target="_blank" title="go Tripod on Facebook"><img src="assets/img/social-icons/facebook_icon_small.png" width="32" height="32" alt="" /></a></li>
							<li><a href="http://www.linkedin.com/company/go-tripod-ltd" target="_blank" title="Go Tripod on LinkedIn"><img src="assets/img/social-icons/linkedin_icon_small.png" width="32" height="32" alt="" /></a></li>
							<li><a href="https://plus.google.com/u/0/b/101897321380998049253/101897321380998049253/posts" target="_blank" title="go Tripod on Google +"><img src="assets/img/social-icons/google_plus_icon_small.png" width="32" height="32" alt="" /></a></li>
							
						</ul>
						
					</div>
					
				</div><!-- end .row -->
		
				<div class="row">
		
					<div class="sixteen columns">
				  	  
			  			<p id="copyright-details">&copy; 2014	 Go Tripod.<br>Registered in the UK company number 6912029 VAT No. 972 5228 06</p>
             		
			  		</div>
			  		
			  	</div><!-- end .row -->	  
		  	
			</div><!-- end .container -->
		
		</section><!-- end #contact -->
		
	</footer><!-- end #footer-global -->

    </body>
</html>
