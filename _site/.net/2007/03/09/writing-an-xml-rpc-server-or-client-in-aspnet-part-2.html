<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>The Go Tripod Blog</title>
        <meta name="viewport" content="width=device-width">

       <!-- CSS (Stylesheets)
        ================================================== -->
    
        <link rel="stylesheet" href="assets/css/style.css">
        <link rel="stylesheet" href="assets/css/font-awesome.css">
        
        <!-- Google Web Fonts
        ================================================== -->
        
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Oswald">
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Cabin">
        
        <!-- Favicons
        ================================================== -->
       
        

    </head>
    <body>

        <div class="site">
          <div class="header">
            <nav id="header-navigation" class="sixteen columns" role="navigation">
            
              <ul id="navigation">
                  <li><a href="index.html#header-global" title="Home">Home</a></li>
                  <li><a href="index.html#introduction" title="About Us">About Us</a></li>
                  <li><a href="index.html#latest-work" title="Our Work">Our Work</a></li>
                  <li><a href="index.html#services" title="Our Services">Our Services</a></li>
                  <li><a href="index.html#meet-the-team" title="Meet the Team">Meet the team</a></li>
                <li><a href="#" title="Blog">Blog</a></li>
                  <li><a href="index.html#contact" title="Contact Us">Contact Us</a></li>
              </ul>
              
              <select name="dropdown" size="1" onChange="scrollTo(this.value)">
                  <option value="" selected="selected">Navigation</option>
                  <option value="index.html#header-global">Home</option>
                  <option value="index.html#introduction">About Us</option>
                  <option value="index.html#latest-work">Our Work</option> 
                  <option value="index.html#services">Our Services</option> 
                  <option value="index.html#meet-the-team">Meet the team</option>
                  <option value="#">Blog</option>
                  <option value="index.html#contact">Contact Us</option>
              </select>
              
			</nav><!-- end #header-navigation -->
          </div>
		
        <section id="blog">
          <div class="container" style="margin-bottom:30px;">
			
				<div class="icon-holder intro" style="margin:0 auto;">
					<i class="icon-book" style="color:#e47c14 !important;"></i>
				</div>
			
          <h2>Writing an XML-RPC server or client in ASP.Net: Part 2</h2>
<p class="meta">09 Mar 2007</p>

<div class="post">
<p>In my <a href="http://www.gotripod.com/2007/03/03/writing-an-xml-rpc-server-or-client-in-aspnet-part-1/">previous article</a> I covered how to setup an <span class="caps">XML</span>-RPC server in .Net, in particular looking at how to service <span class="caps">XML</span>-RPC MetaWebLog <span class="caps">API</span> requests. In this second part I am looking at how we can easily construct an <span class="caps">XML</span>-RPC client to ping blog directory or search services such as Technorati, Google BlogSearch, blo.gs etc.</p>

<p><a id="more"></a><a id="more-26"></a></p>

<p>If you have not read <a href="http://www.gotripod.com/2007/03/03/writing-an-xml-rpc-server-or-client-in-aspnet-part-1/">part one</a>, I recommend you take a look at this article first as it covers the set-up and configuration of <a href="http://www.xml-rpc.net/">CooksComputing <span class="caps">XML</span>-RPC provider</a>, which is required for this tutorial.</p>

<p><strong>Creating an <span class="caps"><span class="caps">XML</span></span>-RPC client proxy class</strong></p>

<p>Before we can make and <span class="caps"><span class="caps">XML</span></span>-RPC client request, we need to create a proxy/wrapper class to handle our client requests for us. In this example I am going to create a client that pings <a href="http://pinger.blogflux.com/" target="_blank">blogflux.com</a> . To use their <span class="caps"><span class="caps">XML</span></span>-RPC service you need to sign-up for a free account.</p>

<p>To ping blogflux.com we need to send an <span class="caps"><span class="caps">XML</span></span>-RPC call to <a href="http://pinger.blogflux.com/rpc/" title="http://pinger.blogflux.com/rpc/">http://pinger.blogflux.com/rpc/</a></p>

<p>Which is configured to accept pings that follow the WebLog ping format.</p>

<p>Firstly, we will create our proxy class in our App_Code directory as follows:</p>

<pre lang="javascript">
using System.Reflection;
using CookComputing.XmlRpc;

[XmlRpcUrl("http://pinger.blogflux.com/rpc/")]
class BlogFlux : XmlRpcClientProtocol{

     [XmlRpcMethod("weblogUpdates.ping")]
     public XmlRpcStruct ping(string weblogname, string weblogurl)
     {
          return (XmlRpcStruct)Invoke(MethodBase.GetCurrentMethod(), new object[] { weblogname, weblogurl });
     }

}</pre>

<p>Here we need to insert a compiler directive before the class definition which indicates the <span class="caps"><span class="caps">URL</span></span> we want this proxy to communicate with, in this case: pinger.blogflux.com/rpc/. We then need to insure that our class inherits from XmlRpcClientProtocol. Once we have done this we can define the methods that we want to call on the remote <span class="caps"><span class="caps">RPC</span></span>-XML server. the WebLog ping protocol supports two method calls, weblogUpdates.ping and weblogUpdates.extendedPing. The most widely implemented in the weblogUpdates.ping method, which takes two parameters, the first being a string containing the name of your blog, the second (again a string) the <span class="caps"><span class="caps">URL</span></span> of your blog. webblogUpdates.ping returns a <span class="caps"><span class="caps">XML</span></span>-RPC struct indicating whether the ping succeeded or not, so our method returns and XmlRpcStruct and to initiate the call we use the following code:</p>

<pre lang="javascript">
Invoke(MethodBase.GetCurrentMethod(), new object[] { weblogname, weblogurl});</pre>

<p>As you can see we pass the parameters onto the <span class="caps"><span class="caps">XML</span></span>-RPC client call within the second parameter of the Invoke method call and all <span class="caps"><span class="caps">XML</span></span>-RPC methods are stored in an array of type object.</p>

<p>Once we have our client proxy defined, we can easily create and invoke a remote <span class="caps"><span class="caps">XML</span></span>-RPC call as follows:</p>

<pre lang="javascript">
BlogFlux bf = new BlogFlux();
bf.ping("Jon Milet Baker’s Blog", http://www.miletbaker.com/blog/);</pre>

<p>And if we want to check the results of our client <span class="caps"><span class="caps">XML</span></span>-RPC call we can do the following.</p>

<pre lang="javascript">
XmlRpcStruct struct = bf.ping("Jon Milet Baker’s Blog", http://www.miletbaker.com/blog/);
label1.text = struct["errMsg"];</pre>

<p>The <span class="caps"><span class="caps">XML</span></span>-RPC protocol is widely adopted especially by blog platforms. This tutorial covers the basics of <span class="caps"><span class="caps">XML</span></span>-RPC and I recommend reading <a href="http://www.xml-rpc.net/" target="_blank">Charles Cooks <span class="caps"><span class="caps">FAQ</span></span></a> for more information, but as you can see this code could easily be adapted for any Remote Procedure Call requirement and provides an alternative to <span class="caps"><span class="caps">SOAP</span></span> based Web Services.</p>

</div>

			
          </div>
          </section>
			
          <footer id="footer-global" role="contentinfo" class="clearfix">
	
		<section id="contact">
		
			<div class="container">
			
				<div class="row">
		
					<div class="sixteen columns">
					
						<div class="icon-holder contact">
							<i class="icon-envelope"></i>
						</div>
						
						<h1>Got a great idea? Lets talk.</h1>
						
						<p>Please get in touch with us, we promise we won't bite!</p>
					
						<address id="contact-details">
						
							<p><a href="mailto:hello@gotripod.com?Subject=Ok, don't bite me! But I would like to talk about ...">hello@gotripod.com</a> // <a href="tel:08454752487">0845 475 2487</a><br />
							Tremough Innovation Centre, Penryn Campus
							<br>
							 Penryn, Cornwall, UK, TR10 9TA</p>
						
						</address>
                        
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d40886.830442687766!2d-5.127996999999958!3d50.17185400000002!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x486b16307846c97b%3A0x6b783d3b216b6f4d!2sGo+Tripod+Ltd!5e0!3m2!1sen!2s!4v1398110943195" width="100%" height="300" frameborder="0" style="border:0"></iframe>
                    
					</div>		
					
				</div><!-- end .row -->
			
				<div class="row">
				
					<div class="sixteen columns">
					
						<ul class="social-icons footer">
						
							<li><a href="http://www.twitter.com/gotripod" target="_blank" title="go Tripod on Twitter"><img src="assets/img/social-icons/twitter_icon_small.png" width="32" height="32" alt="" /></a></li>
							<li><a href="http://www.facebook.com/gotripod" target="_blank" title="go Tripod on Facebook"><img src="assets/img/social-icons/facebook_icon_small.png" width="32" height="32" alt="" /></a></li>
							<li><a href="http://www.linkedin.com/company/go-tripod-ltd" target="_blank" title="Go Tripod on LinkedIn"><img src="assets/img/social-icons/linkedin_icon_small.png" width="32" height="32" alt="" /></a></li>
							<li><a href="https://plus.google.com/u/0/b/101897321380998049253/101897321380998049253/posts" target="_blank" title="go Tripod on Google +"><img src="assets/img/social-icons/google_plus_icon_small.png" width="32" height="32" alt="" /></a></li>
							
						</ul>
						
					</div>
					
				</div><!-- end .row -->
		
				<div class="row">
		
					<div class="sixteen columns">
				  	  
			  			<p id="copyright-details">&copy; 2014	 Go Tripod.<br>Registered in the UK company number 6912029 VAT No. 972 5228 06</p>
             		
			  		</div>
			  		
			  	</div><!-- end .row -->	  
		  	
			</div><!-- end .container -->
		
		</section><!-- end #contact -->
		
	</footer><!-- end #footer-global -->

    </body>
</html>
